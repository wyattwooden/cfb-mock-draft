<!DOCTYPE html>
<!-- templates/mock-draft/draft_board.html -->
{% extends 'base.html' %}
{% load roster_tags %}

{% block title %}Draft Board{% endblock %}

{% block content %}
<div class="draft-container">
  
    <!-- Column 1: Player Rankings -->
    <div class="player-rankings">
        <h2 class="section-title">Player Rankings</h2>
        <div class="player-rankings">

          <div class="position-filter-bar">
            <a href="?" class="position-filter-button {% if not selected_position %}active{% endif %}">All</a>
            <a href="?position=QB" class="position-filter-button {% if selected_position == 'QB' %}active{% endif %}">QB</a>
            <a href="?position=RB" class="position-filter-button {% if selected_position == 'RB' %}active{% endif %}">RB</a>
            <a href="?position=WR" class="position-filter-button {% if selected_position == 'WR' %}active{% endif %}">WR</a>
            <a href="?position=TE" class="position-filter-button {% if selected_position == 'TE' %}active{% endif %}">TE</a>
            <a href="?position=K" class="position-filter-button {% if selected_position == 'K' %}active{% endif %}">K</a>
          </div>


          <ul class="player-list">
            {% for player in players %}
              <li class="player-item">
                <strong>{{ player.player_name }}</strong> – {{ player.position }} | {{ player.team }}
                <span class="adp">
                  ADP: {% if player.adp is not None %}{{ player.adp }}{% else %}-{% endif %}
                </span>
              </li>
            {% endfor %}
          </ul>
        </div>
    </div>
    

    <!-- Column 2: Draft Board -->
    <div class="draft-board">
        <h2 class="section-title">Draft Board</h2>
        <div class="draft-board-grid">
          {% for team_num in num_teams|make_range %}
            <div class="draft-header">Team {{ team_num|add:1 }}</div>
          {% endfor %}
        </div>
        
        <!-- Draft grid -->
        {% for round in draft_board %}
          <div class="draft-board-grid">
            {% for cell in round %}
              <div class="draft-cell">
                {% if cell.player %}
                  <strong>{{ cell.player.name }}</strong><br>
                  {{ cell.player.position }} – {{ cell.player.team }}
                {% else %}
                  <div class="empty-pick">{{ cell.pick }}</div>
                {% endif %}
              </div>
            {% endfor %}
          </div>
        {% endfor %}
    </div>
    

    <!-- Column 3: My Team -->
    <div class="your-roster">
        <h2 class="section-title">My Team</h2>
        
        {% if settings %}
        <div class="team-roster">
            <h3>Starters</h3>
            {% for pos, count in settings.items %}
              {% if pos != 'num_teams' and pos != 'bench' and count > 0 %}
                  {% for i in count|make_range %}
                      <div class="roster-spot">
                          <span class="position-label">{{ pos|upper }}</span>
                          <span class="player-slot skeleton-loader"></span>
                      </div>
                  {% endfor %}
              {% endif %}
          {% endfor %}

          <h3>Bench</h3>
          {% for i in settings.bench|make_range %}
              <div class="roster-spot">
                  <span class="position-label">BN</span>
                  <span class="player-slot skeleton-loader"></span>
              </div>
          {% endfor %}

        </div>
        {% else %}
        <p>No roster settings found. Please configure your mock draft first.</p>
        {% endif %}

    </div>
</div>
{% endblock %}

